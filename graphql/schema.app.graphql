"""
Suggested GraphQL schema for Amplify AppSync.
Add these types via `amplify update api` -> edit schema, then `amplify push`.
Includes owner-based access and an admin group for read access.
"""

type UserProfile @model @auth(rules: [
  { allow: owner, ownerField: "owner", identityClaim: "cognito:sub" },
  { allow: groups, groups: ["admin"], operations: [read] }
]) {
  id: ID!
  owner: ID!
  email: AWSEmail
  name: String
  birthdate: AWSDate
  city: String
  state: String
  country: String
  pictureKey: String
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}

type UserActivity @model @auth(rules: [
  { allow: owner, ownerField: "owner", identityClaim: "cognito:sub" },
  { allow: groups, groups: ["admin"], operations: [read] }
]) {
  id: ID!
  owner: ID!
  event: String!
  metadata: AWSJSON
  timestamp: AWSDateTime!
}

"""
Pet type without any public/apiKey access. Owners can manage their own pets; admins can read all.
Add this if you need a secure Pet model.
"""
type Pet @model @auth(rules: [
  { allow: owner, ownerField: "owner", identityClaim: "cognito:sub" },
  { allow: groups, groups: ["admin"], operations: [read] }
]) {
  id: ID!
  owner: ID!
  petType: String
  petName: String
  breed: String
  age: String
  gender: String
  size: String
  color: String
  vaccinated: Boolean
  spayedNeutered: Boolean
  microchipped: Boolean
  description: String
  ownerFirstName: String
  ownerLastName: String
  ownerEmail: AWSEmail
  ownerPhone: String
  address: String
  city: String
  state: String
  zip: String
  specialNeeds: String
  preferences: String
  adoptionFee: String
  availableDate: AWSDate
  photoKeys: [String]
  createdAt: AWSDateTime
  updatedAt: AWSDateTime
}
